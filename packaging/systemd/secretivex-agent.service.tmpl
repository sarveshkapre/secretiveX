[Unit]
Description=SecretiveX SSH Agent
Documentation=https://github.com/sarveshkapre/secretiveX
After=network.target

[Service]
Type=simple
Environment=SECRETIVE_SOCK=%t/secretive/agent.sock
ExecStart="__BINARY__" --config "__CONFIG__"
Restart=on-failure
RestartSec=1
RuntimeDirectory=secretive
RuntimeDirectoryMode=0700
UMask=0077
NoNewPrivileges=true
PrivateTmp=true
ProtectSystem=strict
ProtectHome=read-only
ReadWritePaths=%h/.config/secretive %h/.ssh %t/secretive
LimitNOFILE=1048576

[Install]
WantedBy=default.target
